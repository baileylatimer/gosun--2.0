if(window.flitsApp&& void 0!==window.flitsApp||(window.flitsApp={}),window.flitsApp.show_social_login_loading=function(){document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden";var a=document.getElementsByClassName("flits-social-login-loading");a.length>0&&(a[0].style.display="block")},window.flitsApp.hide_social_login_loading=function(){document.body.style.overflow="initial",document.documentElement.style.overflow="initial";var a=document.getElementsByClassName("flits-social-login-loading");a.length>0&&(a[0].style.display="none")},window.flitsApp.isNull=function(a){return void 0===a||null==a||""==a.trim()},window.flitsApp.getURLParameter=function(a){return decodeURIComponent((new RegExp("[?|&]"+a+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[null,""])[1].replace(/\+/g,"%20"))||null},window.flitsApp.get_ajax_obj=function(){return window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):void 0},window.flitsApp.submitLoginform=function(b,c){var a=document.getElementById("customer_login");a.elements.namedItem("customer[email]").value=b,a.elements.namedItem("customer[password]").value=c,a.submit()},!function(a,b){a=a||"docReady",b=b||window;var c=[],d=!1,e=!1;function f(){if(!d){d=!0;for(var a=0;a<c.length;a++)c[a].fn.call(window,c[a].ctx);c=[]}}function g(){"complete"===document.readyState&&f()}b[a]=function(a,b){if("function"!=typeof a)throw new TypeError("callback for docReady(fn) must be a function");if(d){setTimeout(function(){a(b)},1);return}c.push({fn:a,ctx:b}),"complete"===document.readyState?setTimeout(f,1):e||(document.addEventListener?(document.addEventListener("DOMContentLoaded",f,!1),window.addEventListener("load",f,!1)):(document.attachEvent("onreadystatechange",g),window.attachEvent("onload",f)),e=!0)}}("flits_docReady",window),flits_docReady(function(){["#customer_login","#create_customer"].forEach(function(f){var b=document.querySelectorAll(f);if("object"==typeof b&&b)for(var c=0;c<b.length;c++){var a=b[c];if("function"!=typeof a.addEventListener&&!(a.offsetWidth>0&&a.offsetHeight>0))return;var d=a.parentElement.nextSibling,e=document.getElementById("flits-social-login-div").children[0];"function"==d.addEventListener?a.parentElement.insertBefore(e,d):a.parentElement.appendChild(e)}})}),window.flitsApp.isNull(window.flitsApp.getURLParameter("flits_error"))){var c=window.flitsApp.getURLParameter("w"),d=window.flitsApp.getURLParameter("o"),e=window.flitsApp.isNull(c)?null:atob(c),f=window.flitsApp.isNull(d)?null:atob(d);if(!window.flitsApp.isNull(e)&&!window.flitsApp.isNull(f)){window.flitsApp.show_social_login_loading();var b=window.flitsApp.get_ajax_obj(),i="/account/login",g="customer[email]="+e;g+="&customer[password]="+f,b.onreadystatechange=function(){if(4==this.readyState&&200==this.status){if(this.responseURL.includes("account/login")){var a=window.flitsApp.get_ajax_obj(),d=document.getElementById("flits-reset-pass-url").value,b="email="+c;b+="&token="+document.getElementById("flits-token").value,a.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var a=JSON.parse(this.responseText);if(a.status){var b=a.o;f=window.flitsApp.isNull(b)?null:atob(b),window.flitsApp.isNull(f)||window.flitsApp.submitLoginform(e,f)}}},a.open("POST",d,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send(b)}else window.flitsApp.submitLoginform(e,f)}},b.open("POST",i,!0),b.setRequestHeader("Content-type","application/x-www-form-urlencoded"),b.send(g)}}else if(!window.flitsApp.isNull(window.flitsApp.getURLParameter("flits_error"))){var h=document.getElementsByClassName("flits-social-login-error")[0],j=parseInt(window.flitsApp.getURLParameter("flits_error")),a="";switch(j){case 0:a="Some thing went wrong please try again.";break;case 1:a="Not verfied social login.";break;case 2:a="Social login uninstalled contact store admin.";break;case 3:a="Social login not installed correctly contact store admin.";break;case 4:a="Please authorize application to login.";break;case 5:a="Some thing went wrong please try again.";case 6:a="No email provided.";break;default:a="Some thing went wrong please try again."}h.innerHTML=a,h.style.display="block",history.pushState(null,null,"login")}