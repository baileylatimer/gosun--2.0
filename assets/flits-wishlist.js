window.flitsApp&& void 0!==window.flitsApp||(window.flitsApp={}),function(b,a){"function"==typeof define&&define.amd?define(a):"object"==typeof exports?module.exports=a():b.flits_tingle=a()}(this,function(){function a(a){this.opts=j({},{onClose:null,onOpen:null,beforeOpen:null,beforeClose:null,stickyFooter:!1,footer:!1,cssClass:[],closeLabel:"Close",closeMethods:["overlay","button","escape"]},a),this.init()}function b(){this.modalBoxFooter&&(this.modalBoxFooter.style.width=this.modalBox.clientWidth+"px",this.modalBoxFooter.style.left=this.modalBox.offsetLeft+"px")}function c(){this.modal=document.createElement("div"),this.modal.classList.add("flits-tingle-modal"),(0===this.opts.closeMethods.length|| -1===this.opts.closeMethods.indexOf("overlay"))&&this.modal.classList.add("flits-tingle-modal--noOverlayClose"),this.modal.style.display="none",this.opts.cssClass.forEach(function(a){"string"==typeof a&&this.modal.classList.add(a)},this),-1!==this.opts.closeMethods.indexOf("button")&&(this.modalCloseBtn=document.createElement("button"),this.modalCloseBtn.classList.add("flits-tingle-modal__close"),this.modalCloseBtnIcon=document.createElement("span"),this.modalCloseBtnIcon.classList.add("flits-tingle-modal__closeIcon"),this.modalCloseBtnIcon.innerHTML="\xd7",this.modalCloseBtnLabel=document.createElement("span"),this.modalCloseBtnLabel.classList.add("flits-tingle-modal__closeLabel"),this.modalCloseBtnLabel.innerHTML=this.opts.closeLabel,this.modalCloseBtn.appendChild(this.modalCloseBtnIcon),this.modalCloseBtn.appendChild(this.modalCloseBtnLabel)),this.modalBox=document.createElement("div"),this.modalBox.classList.add("flits-tingle-modal-box"),-1!==this.opts.closeMethods.indexOf("button")&&this.modalBox.appendChild(this.modalCloseBtn),this.modalBoxContent=document.createElement("div"),this.modalBoxContent.classList.add("flits-tingle-modal-box__content"),this.modalBox.appendChild(this.modalBoxContent),this.modal.appendChild(this.modalBox)}function d(){this.modalBoxFooter=document.createElement("div"),this.modalBoxFooter.classList.add("flits-tingle-modal-box__footer"),this.modalBox.appendChild(this.modalBoxFooter)}function e(){this._events={clickCloseBtn:this.close.bind(this),clickOverlay:g.bind(this),resize:this.checkOverflow.bind(this),keyboardNav:f.bind(this)},-1!==this.opts.closeMethods.indexOf("button")&&this.modalCloseBtn.addEventListener("click",this._events.clickCloseBtn),this.modal.addEventListener("mousedown",this._events.clickOverlay),window.addEventListener("resize",this._events.resize),document.addEventListener("keydown",this._events.keyboardNav)}function f(a){-1!==this.opts.closeMethods.indexOf("escape")&&27===a.which&&this.isOpen()&&this.close()}function g(a){-1!==this.opts.closeMethods.indexOf("overlay")&&!h(a.target,"tingle-modal")&&a.clientX<this.modal.clientWidth&&this.close()}function h(a,b){for(;(a=a.parentElement)&&!a.classList.contains(b););return a}function i(){-1!==this.opts.closeMethods.indexOf("button")&&this.modalCloseBtn.removeEventListener("click",this._events.clickCloseBtn),this.modal.removeEventListener("mousedown",this._events.clickOverlay),window.removeEventListener("resize",this._events.resize),document.removeEventListener("keydown",this._events.keyboardNav)}function j(){for(var a=1;a<arguments.length;a++)for(var b in arguments[a])arguments[a].hasOwnProperty(b)&&(arguments[0][b]=arguments[a][b]);return arguments[0]}var k=function(){var a,c=document.createElement("flits-tingle-test-transition"),b={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in b)if(void 0!==c.style[a])return b[a]}();return a.prototype.init=function(){this.modal||(c.call(this),e.call(this),document.body.insertBefore(this.modal,document.body.firstChild),this.opts.footer&&this.addFooter())},a.prototype.destroy=function(){null!==this.modal&&(i.call(this),this.modal.parentNode.removeChild(this.modal),this.modal=null)},a.prototype.open=function(){var a=this;"function"==typeof a.opts.beforeOpen&&a.opts.beforeOpen(),this.modal.style.removeProperty?this.modal.style.removeProperty("display"):this.modal.style.removeAttribute("display"),document.body.classList.add("flits-tingle-enabled"),this.setStickyFooter(this.opts.stickyFooter),this.modal.classList.add("flits-tingle-modal--visible"),k?this.modal.addEventListener(k,function b(){"function"==typeof a.opts.onOpen&&a.opts.onOpen.call(a),a.modal.removeEventListener(k,b,!1)},!1):"function"==typeof a.opts.onOpen&&a.opts.onOpen.call(a),this.checkOverflow()},a.prototype.isOpen=function(){return!!this.modal.classList.contains("flits-tingle-modal--visible")},a.prototype.close=function(){if("function"!=typeof this.opts.beforeClose||this.opts.beforeClose.call(this)){document.body.classList.remove("flits-tingle-enabled"),this.modal.classList.remove("flits-tingle-modal--visible");var a=this;k?this.modal.addEventListener(k,function b(){a.modal.removeEventListener(k,b,!1),a.modal.style.display="none","function"==typeof a.opts.onClose&&a.opts.onClose.call(this)},!1):(a.modal.style.display="none","function"==typeof a.opts.onClose&&a.opts.onClose.call(this))}},a.prototype.setContent=function(a){"string"==typeof a?this.modalBoxContent.innerHTML=a:(this.modalBoxContent.innerHTML="",this.modalBoxContent.appendChild(a))},a.prototype.getContent=function(){return this.modalBoxContent},a.prototype.addFooter=function(){d.call(this)},a.prototype.setFooterContent=function(a){this.modalBoxFooter.innerHTML=a},a.prototype.getFooterContent=function(){return this.modalBoxFooter},a.prototype.setStickyFooter=function(a){this.isOverflow()||(a=!1),a?this.modalBox.contains(this.modalBoxFooter)&&(this.modalBox.removeChild(this.modalBoxFooter),this.modal.appendChild(this.modalBoxFooter),this.modalBoxFooter.classList.add("flits-tingle-modal-box__footer--sticky"),b.call(this),this.modalBoxContent.style["padding-bottom"]=this.modalBoxFooter.clientHeight+20+"px"):this.modalBoxFooter&&(this.modalBox.contains(this.modalBoxFooter)||(this.modal.removeChild(this.modalBoxFooter),this.modalBox.appendChild(this.modalBoxFooter),this.modalBoxFooter.style.width="auto",this.modalBoxFooter.style.left="",this.modalBoxContent.style["padding-bottom"]="",this.modalBoxFooter.classList.remove("flits-tingle-modal-box__footer--sticky")))},a.prototype.addFooterBtn=function(c,b,d){var a=document.createElement("button");return a.innerHTML=c,a.addEventListener("click",d),"string"==typeof b&&b.length&&b.split(" ").forEach(function(b){a.classList.add(b)}),this.modalBoxFooter.appendChild(a),a},a.prototype.resize=function(){console.warn("Resize is deprecated and will be removed in version 1.0")},a.prototype.isOverflow=function(){var a=window.innerHeight;return this.modalBox.clientHeight>=a},a.prototype.checkOverflow=function(){this.modal.classList.contains("flits-tingle-modal--visible")&&(this.isOverflow()?this.modal.classList.add("flits-tingle-modal--overflow"):this.modal.classList.remove("flits-tingle-modal--overflow"),!this.isOverflow()&&this.opts.stickyFooter?this.setStickyFooter(!1):this.isOverflow()&&this.opts.stickyFooter&&(b.call(this),this.setStickyFooter(!0)))},{modal:a}}),window.flitsApp.wishlist_products=function(){var c="flits_customer_email",d="flits_products_handle",e="",f="",g=this;this.getCookie=function(e){for(var c=e+"=",d=decodeURIComponent(document.cookie).split(";"),b=0;b<d.length;b++){for(var a=d[b];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(c))return a.substring(c.length,a.length)}return""},this.setCookie=function(b,c,d){var a=new Date;a.setTime(a.getTime()+864e5*d);var e="expires="+a.toUTCString();document.cookie=b+"="+c+";"+e+";path=/"};var a=new flits_tingle.modal({footer:!1,stickyFooter:!1,getContent:!0,closeMethods:["button"],closeLabel:"Close",beforeClose:function(){return!0}}),b=document.getElementById("flits-wsl-guest-modal").innerHTML;a.setContent(b),document.getElementById("flits-wsl-guest-modal").remove(),document.getElementById("flits-guest-wsl-form").addEventListener("submit",function(b){b.preventDefault();var a=document.getElementById("flits_email_id").value;if(void 0===a||null==a||""==a)return!1;g.setCookie(c,a,15),document.getElementById("flits-guest-wsl-form").style.display="none";var d=document.getElementById("flits-guest-email").innerHTML;document.getElementById("flits-guest-email").innerHTML=d.replace("##customer_email##","<strong>"+a+"</strong>"),document.getElementById("flits-wsl-msg-modal").style.display="block",e.click()}),this.get_ajax_obj=function(){return window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):void 0},this.wsl_pagination=function(d){this.reset_pagination();var a=document.querySelectorAll(".flits-wsl-pagination-prev"),b=document.querySelectorAll(".flits-wsl-pagination-next"),e=this;this.setPaginationClickEvent(),a.forEach(function(a,b){"function"==typeof a.addEventListener&&a.addEventListener("click",function(b){var a=document.getElementById("flits-wishlist-current-page").value;if(a<=1)return!1;a=parseInt(a)-1,e.change_page(a)})}),b.forEach(function(a,b){"function"==typeof a.addEventListener&&a.addEventListener("click",function(b){var a=document.getElementById("flits-wishlist-current-page").value;if(a>=document.getElementById("flits-wishlist-total-page").value)return!1;a=parseInt(a)+1,e.change_page(a)})});var c=this.getUrlParamVal("p");this.change_page(c)},this.change_variant_price=function(a){document.querySelectorAll(".product-variant-options").forEach(function(a,b){"function"==typeof a.addEventListener&&a.addEventListener("change",function(b){var a=this.options[this.selectedIndex].getAttribute("data-flits-variant-price");this.closest(".flits-row").parentNode.querySelector(".flits-variant-price").innerHTML=a})})},this.setPaginationClickEvent=function(){document.querySelectorAll(".flits-wsl-pagination-page").forEach(function(a,b){"function"==typeof a.addEventListener&&a.addEventListener("click",function(a){a.stopPropagation();var b=this.getAttribute("data-page");g.change_page(b)})})},this.getUrlParamVal=function(b){var a=window.location.search.match(new RegExp("(?:[?&]"+b+"=)([^&]+)"));return a?a[1]:null},this.reset_pagination=function(){parseInt(document.getElementById("flits-wishlist-size").value);var g=parseInt(document.getElementById("flits-wishlist-limit").value),a=parseInt(document.getElementById("flits-wishlist-total-page").value),c=parseInt(document.getElementById("flits-wishlist-current-page").value),e=document.querySelectorAll(".flits-wsl-product-row");e.forEach(function(a,b){var c=parseInt(b/g)+1;a.setAttribute("data-page",c)}),a=Math.ceil(e.length/g),document.querySelectorAll(".flits-wsl-pagination-page").forEach(function(a,b){a.parentNode.removeChild(a)});for(var f=document.querySelector(".flits-wsl-pagination-next"),h=f.parentNode,d=1;d<=a;d++){var b=document.createElement("a");b.href="javascript:void(0)",b.classList.add("flits-wsl-pagination-page"),b.setAttribute("data-page",d),b.innerHTML=d,d==c&&b.classList.add("active"),h.insertBefore(b,f)}this.setPaginationClickEvent(),a<c&&(c=a),document.getElementById("flits-wishlist-total-page").value=a,document.getElementById("flits-wishlist-current-page").value=c,this.change_page(c),a<=1?document.getElementById("flits-page-wishlist").querySelector(".flits-pagination-div").style.display="none":document.getElementById("flits-page-wishlist").querySelector(".flits-pagination-div").style.display="block"},this.change_page=function(a){document.querySelectorAll(".flits-wsl-product-row").forEach(function(a){a.style.display="none"}),document.querySelectorAll(".flits-wsl-product-row[data-page='"+a+"']").forEach(function(a){a.style.display="inline-block"}),document.getElementById("flits-wishlist-current-page").value=a,document.querySelector(".flits-wsl-pagination-page.active")&&document.querySelector(".flits-wsl-pagination-page.active").classList.remove("active"),document.querySelector('.flits-wsl-pagination-page[data-page="'+a+'"]')&&document.querySelector('.flits-wsl-pagination-page[data-page="'+a+'"]').classList.add("active");var b=window.location.protocol+"//"+window.location.host+window.location.pathname+"?p="+a+location.hash;window.history.pushState({path:b},"",b)},this.add_product=function(){var b=this;document.querySelectorAll(".flits-add-to-wsl-btn").forEach(function(f,g){"function"==typeof f.addEventListener&&f.addEventListener("click",function(u){e=this;var l=this.getAttribute("data-flits-customer-id"),h=this.getAttribute("data-flits-customer-email"),m=this.getAttribute("data-flits-product-id"),n=this.getAttribute("data-flits-product-handle"),o=this.getAttribute("data-flits-product-title"),p=this.getAttribute("data-flits-product-image"),q=this.getAttribute("data-page"),r=document.getElementById("flits-wsl-token").value,s=document.getElementById("flits-wsl-url").value+"/add_to_wishlist";if(b.isNull(h)){var j=b.getCookie(c);if(b.isNull(j))return a.open(),!1;h=j}e.disabled=!0;var f=this.parentNode,k=0,i=0;switch(q){case"product-page":case"collection-page":f.getElementsByClassName("flits-add-to-wsl-btn")[0].style.display="none",f.getElementsByClassName("flits-remove-from-wsl-btn")[0].style.display="inline-block",f.parentNode.getElementsByClassName("flits-wsl-product-count")[0]&&(k=parseInt(f.parentNode.getElementsByClassName("flits-wsl-product-count")[0].innerHTML),i=parseInt(k)+1,f.parentNode.getElementsByClassName("flits-wsl-product-count")[0].innerHTML=i)}var g=b.get_ajax_obj();g.onreadystatechange=function(){if(4==this.readyState&&200==this.status){e.disabled=!1;var a=JSON.parse(this.responseText);switch(b.setCookie(d,a.products_handle,15),q){case"product-page":case"collection-page":f.getElementsByClassName("flits-add-to-wsl-btn")[0].style.display="none",f.getElementsByClassName("flits-remove-from-wsl-btn")[0].style.display="inline-block",f.parentNode.getElementsByClassName("flits-wsl-product-count")[0]&&(f.parentNode.getElementsByClassName("flits-wsl-product-count")[0].innerHTML=i)}}},g.open("POST",s,!0),g.setRequestHeader("Content-type","application/x-www-form-urlencoded");var t=b.serialize({customer_hash:window.flitsApp.customer_hash,token:r,customer_id:l,customer_email:h,product_id:m,product_handle:n,product_title:o,product_image:p,wsl_product_count:i});g.send(t)})})},this.remove_product=function(){var a=this;document.querySelectorAll(".flits-remove-from-wsl-btn").forEach(function(b,e){"function"==typeof b.addEventListener&&b.addEventListener("click",function(t){var b=this;f=b;var l=b.getAttribute("data-flits-customer-id"),i=b.getAttribute("data-flits-customer-email"),j=b.getAttribute("data-flits-product-id"),m=b.getAttribute("data-flits-product-handle"),n=b.getAttribute("data-flits-product-title"),o=b.getAttribute("data-flits-product-image"),p=b.getAttribute("data-page"),q=document.getElementById("flits-wsl-token").value,r=document.getElementById("flits-wsl-url").value+"/remove_from_wishlist";if(a.isNull(i))var i=a.getCookie(c);f.disabled=!0;var e=b.parentNode,k=0,g=0;switch(p){case"product-page":case"collection-page":e.getElementsByClassName("flits-remove-from-wsl-btn")[0].style.display="none",e.getElementsByClassName("flits-add-to-wsl-btn")[0].style.display="inline-block",e.parentNode.getElementsByClassName("flits-wsl-product-count")[0]&&(k=parseInt(e.parentNode.getElementsByClassName("flits-wsl-product-count")[0].innerHTML),g=parseInt(k)-1,g<=0&&(g=0),e.parentNode.getElementsByClassName("flits-wsl-product-count")[0].innerHTML=g);break;case"account-wsl-page":if(document.querySelector(".flits-remove-from-wsl-btn[data-flits-product-id='"+j+"']")){document.querySelector(".flits-remove-from-wsl-btn[data-flits-product-id='"+j+"']").closest("div .flits-wsl-product-row").remove();var b=document.querySelectorAll(".flits-wsl-product-row");b.length<1&&(document.querySelector(".flits-wishlist-ul").classList.add("flits-hidden"),document.querySelector(".flits-wsl-view-empty").classList.remove("flits-hidden"))}a.reset_pagination()}var h=a.get_ajax_obj();h.onreadystatechange=function(){if(4==this.readyState&&200==this.status){f.disabled=!1;var b=JSON.parse(this.responseText);switch(a.setCookie(d,b.products_handle,15),p){case"product-page":case"collection-page":e.getElementsByClassName("flits-remove-from-wsl-btn")[0].style.display="none",e.getElementsByClassName("flits-add-to-wsl-btn")[0].style.display="inline-block",e.parentNode.getElementsByClassName("flits-wsl-product-count")[0]&&(e.parentNode.getElementsByClassName("flits-wsl-product-count")[0].innerHTML=g);break;case"account-wsl-page":document.querySelector(".flits-remove-from-wsl-btn[data-flits-product-id='"+j+"']")&&(document.querySelector(".flits-remove-from-wsl-btn[data-flits-product-id='"+j+"']").closest("div .flits-wsl-product-row").remove(),document.querySelectorAll(".flits-wsl-product-row").length<1&&(document.querySelector(".flits-wishlist-ul").classList.add("flits-hidden"),document.querySelector(".flits-wsl-view-empty").classList.remove("flits-hidden"))),a.reset_pagination()}}},h.open("DELETE",r,!0),h.setRequestHeader("Content-type","application/x-www-form-urlencoded");var s=a.serialize({customer_hash:window.flitsApp.customer_hash,token:q,customer_id:l,customer_email:i,product_id:j,product_handle:m,product_title:n,product_image:o,wsl_product_count:g});h.send(s)})})},this.serialize=function(a){var c=[];for(var b in a)a.hasOwnProperty(b)&&c.push(encodeURIComponent(b)+"="+encodeURIComponent(a[b]));return c.join("&")},this.isNull=function(a){return void 0===a||null==a||""==a.trim()},this.flits_wsl_guest_login=function(){for(var c=g.getCookie(d).split(","),a=0;a<c.length;a++){var b=document.querySelectorAll("*[data-flits-product-handle='"+c[a]+"']");b.length>0&&(b[0].parentElement.querySelectorAll(".flits-add-to-wsl-btn")[0].style.display="none",b[0].parentElement.querySelectorAll(".flits-remove-from-wsl-btn")[0].style.display="inline-block")}},this.add_to_cart_event=function(){var a=document.querySelectorAll(".flits-wsl-add-to-cart"),b=this;a.forEach(function(a,c){"function"==typeof a.addEventListener&&a.addEventListener("click",function(e){var c=this.closest("li").querySelector(".flits-wsl-product-variant-quantity").value,a=this.closest("li").querySelector(".product-variant-options"),d=a.options[a.selectedIndex].value;b.addToCart("id="+d+"&quantity="+c,function(a){location.href="/cart"},function(){})})})},this.addToCart=function(b,c,d){var a=this.get_ajax_obj();a.onreadystatechange=function(){if(4==this.readyState){if(200==this.status){var a=JSON.parse(this.responseText);"function"==typeof c&&c(a)}else"function"==typeof d&&d(res)}},a.open("POST","/cart/add.js",!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send(b)},this.add_product(),this.remove_product(),"/account"!=location.pathname&&this.flits_wsl_guest_login(),"/account"==location.pathname&&(this.wsl_pagination(),this.change_variant_price(),this.add_to_cart_event())},function(a,b){a=a||"docReady",b=b||window;var c=[],d=!1,e=!1;function f(){if(!d){d=!0;for(var a=0;a<c.length;a++)c[a].fn.call(window,c[a].ctx);c=[]}}function g(){"complete"===document.readyState&&f()}b[a]=function(a,b){if("function"!=typeof a)throw new TypeError("callback for docReady(fn) must be a function");if(d){setTimeout(function(){a(b)},1);return}c.push({fn:a,ctx:b}),"complete"===document.readyState?setTimeout(f,1):e||(document.addEventListener?(document.addEventListener("DOMContentLoaded",f,!1),window.addEventListener("load",f,!1)):(document.attachEvent("onreadystatechange",g),window.attachEvent("onload",f)),e=!0)}}("flits_docReady",window),flits_docReady(function(){var a=document.getElementById("flits-is-wishlist-automatic").value;["button[name='add']"].forEach(function(e){var b=document.querySelectorAll(e);if("object"==typeof b&&b)for(var c=0;c<b.length;c++){var d=b[c];if("function"!=typeof d.addEventListener)return;1==a&&d.parentElement.after(document.getElementById("flits-wishlist-automatic-code").children[0],d.parentElement.firstChild)}})}),"/account"==location.pathname&&(window.flitsApp.get_wishlist_products_using_ajax=function(){var a=flitsAppJquery("#flits-wsl-url").val(),b=flitsAppJquery("#flits-wsl-customer-id").val(),c=flitsAppJquery("#flits-wsl-token").val();flitsAppJquery.ajax({method:"get",url:a,data:{customer_id:b,customer_hash:window.flitsApp.customer_hash,token:c},success:function(a){var b=a.count,c=a.data,d=a.status;d&&b>0?(flitsAppJquery.each(c,function(c,b){var a=flitsAppJquery(".flits-wsl-li-structure").clone();a.removeClass("flits-wsl-li-structure"),a.addClass("flits-wsl-product-row"),a.find(".flits-product-title-anchor").attr("href","/products/"+b.product_handle),a.attr("data-flits-wishlist-product-handle",b.product_handle),flitsAppJquery(".flits-wishlist-ul").append(a)}),flitsAppJquery("#flits-wishlist-size").val(b),flitsAppJquery("#flits-wishlist-limit").val(8),flitsAppJquery("#flits-wishlist-total-page").val(Math.ceil(b/8)),flitsAppJquery(".flits-wsl-view-empty").addClass("flits-hidden"),flitsAppJquery(".flits-wishlist-ul").removeClass("flits-hidden"),document.getElementById("flits-wishlist-current-page").value=1,window.flitsApp.wishlist_products_obj.reset_pagination(),window.flitsApp.set_wishlist_products_using_ajax(),window.flitsApp.wishlist_products_obj.remove_product()):(flitsAppJquery(".flits-wsl-view-empty").removeClass("flits-hidden"),flitsAppJquery(".flits-wishlist-ul").addClass("flits-hidden"))},error:function(){flitsAppJquery(".flits-wsl-view-empty").removeClass("flits-hidden"),flitsAppJquery(".flits-wishlist-ul").addClass("flits-hidden")}})},window.flitsApp.set_wishlist_products_using_ajax=function(){window.flitsApp.set_wishlist_add_change_event(),window.flitsApp.set_wishlist_add_click_event();var b=flitsAppJquery("#flits-shop-money-format").val(),a=flitsAppJquery;a("[data-flits-wishlist-product-handle]").each(function(d,e){var f=a(this),c=a(this).attr("data-flits-wishlist-product-handle");a.ajax({method:"get",url:"/products/"+c+".json",success:function(g){var c=g.product,d="https://cdn.shopify.com/s/assets/no-image-2048-5e88c1b20e087fb7bbe9a3771824e743c244f437e4f8ba93bbf7b11b53f7824c.gif";null!=c.image&&(d=c.image.src);var h=d.lastIndexOf("."),e=d.substr(h);d=d.replace(e,"_200x_crop_center"+e),a(f).find(".flits-product-img").css({background:"url("+d+")","background-size":"contain","background-repeat":"no-repeat","background-position":"center center","background-image":d});var i=0;a.each(c.variants,function(j,d){var h=window.flitsApp.formatMoney(Math.abs(100*d.price),b).replace(/((\,00)|(\.00))$/g,""),g=d.title;1==c.variants.length&&"Default Title"==g&&(g=c.title);var e=a("<option/>");e.html(g),e.attr("value",d.id),e.attr("data-flits-variant-price",h),a.ajax({method:"get",url:location.origin+"/products/"+c.handle+"?view=flits_product_variant_data&variant="+d.id,success:function(d){var g=new DOMParser().parseFromString(d,"text/html"),b=JSON.parse(g.querySelector(".flits-product-variant-data").innerHTML);if("shopify"==b.inventory_management&&"deny"==b.inventory_policy&&b.inventory_quantity<=0){e.html(e.html()+" - Sold Out");var c=a(f).find(".flits-add-to-cart");if(-1!=a(f).find(".flits-product-variant-options option:selected").html().indexOf("Sold Out")){var h=c.attr("data-flits-sold-out-text");c.addClass("flits-btn-danger").attr("disabled",!0).html(h)}}},error:function(){}}),i<=0&&(i=h),a(f).find(".flits-product-variant-options").append(e)}),a(f).find(".flits-product-variant-title").append(c.title),a(f).find(".flits-product-variant-price").append(i),a(f).find(".flits-wsl-product-remove").attr("data-flits-product-id",c.id),a(f).find(".flits-wsl-product-remove").attr("data-flits-product-title",c.title),a(f).find(".flits-wsl-product-remove").attr("data-flits-product-handle",c.handle),a(f).attr("title",c.title),window.flitsApp.wishlist_products_obj.reset_pagination()},error:function(){a(f).remove(),window.flitsApp.wishlist_products_obj.reset_pagination()}})})},window.flitsApp.set_wishlist_add_change_event=function(){flitsAppJquery(document).on("change",".flits-wsl-product-row .flits-product-variant-options",function(d){var c=this.options[this.selectedIndex].getAttribute("data-flits-variant-price");this.closest(".flits-row").parentNode.querySelector(".flits-product-variant-price").innerHTML=c;var b="",a=this.closest(".flits-row").parentNode.querySelector(".flits-add-to-cart");-1!=this.options[this.selectedIndex].innerHTML.indexOf("Sold Out")?(b=a.getAttribute("data-flits-sold-out-text"),a.disabled=!0,a.classList.add("flits-btn-danger")):(b=a.getAttribute("data-flits-add-to-cart-text"),a.disabled=!1,a.classList.remove("flits-btn-danger")),a.innerHTML=b})},window.flitsApp.set_wishlist_add_click_event=function(){flitsAppJquery(document).on("click",".flits-wsl-product-row .flits-product-quantity-adjuster",function(d){var b=this,c=b.parentNode.querySelector(".flits-product-quantity-num"),a=parseInt(c.value);a=flits_validate_quantity(a),qtyMin=1,b.classList.contains("flits-product-quantity-add")?a+=1:a=a<=qtyMin?qtyMin:a-1,c.value=a}),flits_validate_quantity=function(a){return parseFloat(a)!=parseInt(a)||isNaN(a)?1:a}},window.flitsApp.run_after_jquery=function(a){var b=setInterval(function(){"undefined"==typeof flitsAppJquery||(clearInterval(b),"function"==typeof a&&a())},1e3)},window.flitsApp.append_anchor_div=function(c){var d=document.querySelector(".flits-pages"),b=document.querySelector(".flits-wishlist-extra-data .flits-anchor a"),e=document.querySelector(".flits-wishlist-extra-data .flits-div div");if(b){var f=document.querySelector(".flits-list-group").children.length,a=document.querySelector(".flits-list-group");c>=f?a.insertBefore(b,a.children[f]):a.insertBefore(b,a.children[c])}e&&d&&d.append(e),window.flitsApp.run_after_jquery(window.flitsApp.get_wishlist_products_using_ajax)},window.flitsApp.append_anchor_div(3))